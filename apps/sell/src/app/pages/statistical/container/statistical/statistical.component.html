<div class='px-5 main-customer'>
  <div class=' row '>
    <div class='row col-12'>
      <div class='p-3'>
        <span class='h3'> Tổng quan</span>
      </div>
    </div>
    <div class=' row col-12 my-2 mx-1'>
      <div class='col-md-4 col-xm-12 p-1 '>
        <div class='col-12 p-2  rounded bg-success'>
          <div class='h4'>Tổng đơn hàng trong tháng</div>
          <div class='d-flex'>
            <div class='h5 mr-2'>{{totalOrders}} </div>
          </div>
          <div class='h5 d-flex'>
            <div>Tổng số xe :</div>
            <span class='ml-2'>5</span>
          </div>
        </div>
      </div>
      <div class='col-md-4 col-xm-12 p-1   '>
        <div class='col-12 p-2 rounded  bg-warning'>
          <div class='h4'>Khách hàng</div>
          <div class='d-flex'>

            <div class='d-flex align-items-center'>
              <span class='h5'>Tiềm năng :</span>
            </div>
            <div class=' ml-2 h5'> {{TotalPotential}}</div>
          </div>
          <div class='h5 d-flex'>
            <div>Tổng Khách hàng :</div>
            <span class='ml-2'> {{statisticalCustomerData.length}}</span>
          </div>
        </div>
      </div>
      <div class='col-md-4 col-xm-12 p-1  '>
        <div class='col-12 p-2 rounded  bg-primary'>
          <div class='h4'>Doanh thu tháng {{CurrentMonth}}</div>
          <div class='d-flex'>
            <div class='h5 mr-2'> 10</div>
            <div class='d-flex align-items-center'>
              <img src='/assets/icon/share/caret-up-fill.svg' alt='up'>
              <img *ngIf='false' src='/assets/icon/share/caret-down-fill.svg' alt='up'>
              <span class='ml-2'>50%</span>
            </div>
          </div>
          <div class='h5 d-flex'>
            <div>tháng trước :</div>
            <span class='ml-2'>5</span>
          </div>
        </div>
      </div>
    </div>
    <div class=' col-12 mt-5 d-flex flex-wrap ml-2   '>
      <div class='d-flex flex-column mt-4  col-xm-12 px-2 border  '
           [ngStyle]='{"width":statisticalProvince.length < 6? "49%": "99%" }'
           style='height:450px ; margin-right: 1%; position: relative'
      >
        <div class='d-flex justify-content-sm-end mt-2'>
          <img (click)='onStatistical(statisticalXType.PROVINCE)' class='mr-2 pointer'
               src='/assets/icon/sell-layout/gear.svg'
               alt='setting'>
        </div>
        <span class=' ml-3 mb-1 title-chart'>Thống kê theo tỉnh</span>
        <div [ngStyle]='{"overflow-x":statisticalProvince.length === 0 ? "hidden":"scroll" }'>
          <app-swim-lane-chart
            [data]='statisticalProvince'
            [labelX]='"Tỉnh thành"'
            [labelY]='labelY'
            [legend]='true'
          >
          </app-swim-lane-chart>
        </div>
      </div>
      <div class='d-flex  flex-column mt-4  col-xm-12 border p-1   '
           [ngStyle]='{"width":statisticalChicken.length < 6? "49%": "99%"  }'
           style='height: 450px; position: relative'>
        <div class='d-flex justify-content-sm-end'>
          <img (click)='onStatistical(statisticalXType.CHICKEN_TYPE)' class='mr-2 pointer'
               src='/assets/icon/sell-layout/gear.svg' alt='setting'>
        </div>
        <span class=' ml-3 title-chart'>Thống kê theo loại gà</span>
        <app-pie-chart style='width: 100%; height: 400px' [data]='statisticalChicken'></app-pie-chart>
      </div>
    </div>
    <div class=' col-12 mt-3 d-flex flex-wrap ml-2 '>
      <div class='d-flex flex-column mt-4 col-xm-12 border  p-1'
           [ngStyle]='{"width":statisticalPotential.length < 6 ? "49%": "99%"}'
           style='height: 450px; margin-right: 1%;  position: relative'>
        <div class='d-flex justify-content-sm-end'>
          <img (click)='printCustomer(statisticalYType.POTENTIAL)' class='mr-2 pointer'
               src='/assets/icon/share/printer-fill%20(1).svg'
               alt='setting'>
        </div>
        <span class='ml-3 mb-3 mt-3 title-chart'>Thống kê khách tiềm năng theo tỉnh</span>
        <div class='chart' [ngStyle]='{"overflow-x":statisticalPotential.length === 0? "hidden":"scroll" }'>
          <app-staked-vertical-chart
            [data]='statisticalPotential'
            [legend]='true'
            [labelY]='"Khách hàng"'
            [labelX]='"Tỉnh Thành"'>
          </app-staked-vertical-chart>
        </div>
      </div>
      <div class='d-flex flex-column  mt-4  col-xm-12 border p-1  '
           [ngStyle]='{"width":statisticalAgency.length < 6? "49%": "99%" }'
           style='height: 450px; position: relative'>
        <div class='d-flex justify-content-sm-end'>
          <img (click)='onStatistical(statisticalXType.AGENCY)' class='mr-2 pointer'
               src='/assets/icon/sell-layout/gear.svg'
               alt='setting'>
        </div>
        <span class=' ml-3 title-chart'>Thống kê Doanh thu từng đại lý</span>
        <app-staked-vertical-chart
          style='width: 100%; height: 400px'
          [data]='statisticalAgency'
          [labelY]='"Doanh thu"'
          [labelX]='"Đại lý"'>
        </app-staked-vertical-chart>
      </div>
    </div>
    <div class=' col-12 mt-3 mb-5 d-flex flex-wrap ml-2'>
      <div class='d-flex flex-column mt-4 col-xm-12 border  p-1'
           [ngStyle]='{"width":statisticalCustomerData.length < 6 ? "49%": "99%"}'
           style='height: 450px;margin-right: 1%; position: relative'>
        <div class='d-flex justify-content-sm-end'>
          <img (click)='printCustomer(statisticalYType.COMMODITY_DETAIL)' class='mr-1 mt-1 pointer'
               src='/assets/icon/share/printer-fill%20(1).svg'
               alt='setting'>
          <div>
            <button mat-button [matMenuTriggerFor]='menu' style='min-width: 0; line-height: normal'>
              <img class=' pointer' src='/assets/icon/sell-layout/gear.svg'
                   alt='setting'>
            </button>
            <mat-menu #menu='matMenu'>
              <button mat-menu-item (click)='statisticalCustomer( {type: statisticalYType.DEBT})'>Nợ</button>
              <button mat-menu-item (click)='statisticalCustomer({type:statisticalYType.COMMODITY_DETAIL})'>Đơn hàng
              </button>
            </mat-menu>
          </div>
        </div>
        <span class='ml-3 mb-3 mt-3 title-chart'>Thống kê theo khách hàng</span>
        <div class='chart' [ngStyle]='{"overflow-x":statisticalCustomerData.length === 0? "hidden":"scroll" }'>
          <app-staked-vertical-chart
            [data]='statisticalCustomerData'
            [legend]='true'
            [labelY]='labelYCustomer'
            [labelX]='"Khách hàng"'>
          </app-staked-vertical-chart>
        </div>
      </div>
    </div>
  </div>
</div>

