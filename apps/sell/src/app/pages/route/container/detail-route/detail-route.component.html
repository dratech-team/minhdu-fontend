<div class='animated fadeIn container mb-3 ' *ngIf='(route$ | async)  as route' style='min-height: 80vh!important;'>

  <div class='row'>
    <div class='row mt-5'>
      <div class=' main-title  mr-5' style='font-size: 20px'>
        Chi tiết tuyến đường
      </div>
    </div>
  </div>
  <div class='row mt-5' style='color:#80828B' *ngIf='(route$ | async)  as route'>
    <div class='col-12'>
      <div class='row d-flex align-items-center'>
        <div class='col-2 align-items-center title-table'>Thông tin chung</div>
        <button
          data-toggle='tooltip'
          data-placement='top'
          title=' chỉnh sửa '
          class='edit animated'
          (click)='updateRoute(route)'>
          <img style='height: 15px;' src='/assets/icon/share/pencil-fill.svg' alt='edit icon'>
        </button>
      </div>
      <div class='row mt-3'>
        <div class='col-6  form-group'>
          <div class='row ml-1 align-items-center'>
            <div class='col-md-4 py-2  title-detail'>
              <span>Tên Tuyến đường:</span>
            </div>
            <div class='col-md-8 py-2 border-bottom '>
            <span class='title-detail' style=' color: #3C3B54'>
             {{route?.name}}
            </span>
            </div>
          </div>
          <div class='row ml-1 align-items-center'>
            <div class='col-md-4 py-2  title-detail'>
              <span>Ngày bắt đầu:</span>
            </div>
            <div class='col-md-8 py-2  border-bottom'>
            <span class='title-detail' style=' color: #3C3B54' *ngIf='route?.startedAt'>
             {{route?.startedAt|date:'dd/MM/yyyy'}}
            </span>
              <span style=' color: #3C3B54' *ngIf='route?.startedAt === null'>
             Chưa cập nhật
            </span>
            </div>
          </div>
          <div class='row ml-1 align-items-center'>
            <div class='col-md-4 py-2  title-detail '>
              <span>Ngày Kết thúc:</span>
            </div>
            <div class='col-md-8 py-2 border-bottom '>
            <span class='title-detail' style=' color: #3C3B54' *ngIf='route?.endedAt'>
             {{route?.endedAt|date:'dd/MM/yyyy'}}
            </span>
              <span *ngIf='route?.endedAt === null'>
             Chưa cập nhật
            </span>
            </div>
          </div>
          <div class='row ml-1 align-items-center '>
            <div class='col-md-4 py-2  title-detail '>
              <span>Tên tài xế:</span>
            </div>
            <div class='col-md-8 py-2 border-bottom '>
            <span class='title-detail' style=' color: #3C3B54' *ngIf='route.driver'>
             {{route?.driver}}
            </span>
              <span  style=' color: #3C3B54' *ngIf='!route.driver'>
                chưa cập nhật
            </span>

            </div>
          </div>
          <div class='row ml-1 align-items-center '>
            <div class='col-md-4 py-2  title-detail'>
              <span>Tên nhà xe:</span>
            </div>
            <div class='col-md-8 py-2 border-bottom '>
            <span class='title-detail' style=' color: #3C3B54' *ngIf='route?.garage'>
             {{route?.garage}}
            </span>
              <span   *ngIf='!route?.garage'>
             Chưa cập nhật
            </span>
            </div>
          </div>
          <div class='row ml-1 align-items-center'>
            <div class='col-md-4 py-2  title-detail'>
              <span>Biển số xe:</span>
            </div>
            <div class='col-md-8 py-2  border-bottom'>
            <span class='title-detail' >
             {{route?.bsx}}
            </span>
            </div>
          </div>
        </div>
      </div>
      <div class='col-12 mt-5'>
        <div class='row d-flex align-items-center '>
          <div class='row align-items-center title-table ml-2'>Đơn hàng</div>
        </div>
        <div class='my-3 '>
<!--          <app-table-order [routeId]='route.id'></app-table-order>-->
          <form class='main-profile'>
            <div class='header-profile mt-3 animated fadeIn'>
              <div class='border-start title-header name'>
                <div class='title-profile'>Khách hàng</div>
                <input
                  disabled
                  class='form-control input-profile '
                  type='date'>
              </div>
              <div class='border-start title-header default'>
                <div class='title-profile'>Ngày tạo</div>
                <input
                  disabled
                  class='form-control input-profile '
                  type='date'>
              </div>
              <div class='border-start title-header address-customer'>
                <div class='title-profile'>Điểm đến</div>
                <input
                  disabled
                  class='form-control input-profile '
                  type='text'>
              </div>
              <div class='border-start title-header explain'>
                <div class='title-profile'> Diễn giải</div>
                <input
                  disabled
                  class='form-control input-profile '
                  type='number'>
              </div>
            </div>
            <div class='  animated fadeIn '
                 style=' max-height: 50vh;'
                 infiniteScroll
                 [alwaysCallback]='true'
                 [infiniteScrollDistance]='1'
                 [scrollWindow]='false'
                 [ngStyle]="{'overflow-y':route.orders.length===0?'hidden':'scroll'}"
            >
              <div class='row-content' *ngFor='let order of route.orders'>
                <div class='content-profile name pointer ' *ngIf='order?.createdAt!== null ' (click)='detailOrder(order.id)'>
                  {{order?.customer?.firstName}} {{order?.customer?.lastName}}
                </div>
                <div class='content-profile default pointer ' *ngIf='order?.createdAt!== null ' (click)='detailOrder(order.id)'>
                  {{order?.createdAt | date: 'dd/MM/yyyy'}}
                </div>
                <div class='content-profile default pointer ' *ngIf='order?.createdAt=== null' (click)='detailOrder(order.id)'>
                  Đang cập nhật
                </div>
                <div class='content-profile address-customer pointer ' (click)='detailOrder(order.id)'>
                  {{order?.destination?.name}}
                </div>
                <div class='content-profile explain pointer ' (click)='detailOrder(order.id)'>
                  {{order.explain}}
                </div>
              </div>
              <div *ngIf='!route.orders || route.orders.length === 0 ' style='height: 150px'
                   class=' d-flex justify-content-center align-content-center'>
                <div class='font-xl d-flex align-items-center'>
                  Hiện chưa có đơn hàng nào!
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

