<div class='container'>
  <div class=' animated fadeIn' style='width: 102%'>
    <form [formGroup]='formGroup' class='header-profile mt-3 '>
      <div class='border-start title-header col-3 ' *ngIf='!payment'>
        <div class='title-profile title-pick'>Khách hàng</div>
        <input class='form-control input-profile'
               type='text'
               placeholder='PN10001'
               formControlName='name'
        >
      </div>
      <div class='border-start title-header col-2 '>
        <div class='title-profile title-pick'>Ngày tạo</div>
        <input class='form-control input-profile'
               type='date' formControlName='createdAt'
        >
      </div>
      <div class='border-start title-header col-2 '>
        <div class='title-profile title-pick'>Tiền hàng</div>
        <input formControlName='commodityTotal'
          class='form-control input-profile '
          type='number'>
      </div>
      <div class='border-start title-header col-2 '>
        <div class='title-profile title-pick'>Thanh toán</div>
        <select class='select'  formControlName='paidType'>
          <option value='{{paidType.PAID}}'>Có thanh toán</option>
          <option value='{{paidType.DEBT}}'>Chưa thanh toán</option>
          <option value=''>tất cả</option>
        </select>
      </div>
      <div class='border-start title-header col-2 ' style='overflow: hidden'>
        <div class='title-profile title-pick'>lần thanh toán</div>
        <input
          disabled
          class='form-control input-profile '
          type='number'>
      </div>
      <div class='border-start title-header col-3 '  *ngIf='payment'>
        <div class='title-profile title-pick'>Diễn giải</div>
        <input class='form-control input-profile'
               type='text' formControlName='explain'
        >
      </div>
      <div class='border-start title-header col-1 '>
        <div class='title-profile d-flex justify-content-center align-items-center title-pick'>Tất cả</div>
        <div class=' d-flex justify-content-center mt-2 '  >
          <mat-checkbox *ngIf='data?.pickMore|| !pickOne'
                        style='margin-right: 2%'
                        class='example-margin checkID  '
                        [checked]='isSelectAll'
                        [indeterminate]="someComplete()"
                        (change)='setAll($event.checked)'>
          </mat-checkbox>
        </div>

      </div>

    </form>
    <div class='outer example'
         style='width: 100%; height: 30vh'
         infiniteScroll
         [alwaysCallback]='true'
         [infiniteScrollDistance]='1'
         [scrollWindow]='false'
    >
      <div class='row-content d-flex align-items-center' *ngFor='let order of orders'>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank' class='content-profile col-3 pointer no-underline '  *ngIf='!payment' >
         {{order?.customer?.firstName}} {{ order?.customer?.lastName}}
        </a>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank' class='content-profile col-2 pointer no-underline ' *ngIf='order?.createdAt!== null'>
          {{order?.createdAt | date: 'dd/MM/yyyy'}}
        </a>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank' class='content-profile col-2 pointer no-underline ' *ngIf='order?.createdAt=== null' >
          Đang cập nhật
        </a>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank' class='content-profile col-2 pointer no-underline '  style='color: #f86c6b'>
          {{order.commodityTotal|number:'1.0'|notEmpty:'0'}} đ
        </a>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank' class='content-profile col-2 pointer no-underline '  style='color: #20c997'>
          {{order?.paidTotal|number:'1.0'|notEmpty:'0'}} đ
        </a>
        <a  routerLink="/don-hang/lich-su-thanh-toan"
           [queryParams]='{data:order.paymentHistories|json}'
           target="_blank" class='btn content-profile col-2 pointer hover-link '  >
          {{order?.paymentHistories?.length}}
        </a>
        <a [routerLink]='["/don-hang/chi-tiet-don-hang/",order.id]'
           target='_blank'  class='content-profile col-3 pointer no-underline '  *ngIf='payment'>
          {{order.explain}}
        </a>
        <input class='col-1'
               (change)='pickOneOrder()'
               *ngIf='data?.pickOne||pickOne'
               type="radio"
               name="pick-one" value="{{order.id}}"
        >
        <div class=' col-1  pointer mt-2 d-flex justify-content-center'  >
          <mat-checkbox
                         *ngIf='!pickOne||data?.pickMore'
                         class='checkID'
                         [checked]='order.isSelect ? order.isSelect: false'
                         [(ngModel)]='order.isSelect'
                         (ngModelChange)='updateAllSelect(order.id)'>

          </mat-checkbox>
        </div>
      </div>
      <div *ngIf='!orders || orders.length === 0'
           class='d-flex justify-content-center align-items-center font-2xl '
           style='height: 150px'
      >
        Hiện tại chưa có đơn hàng  nào
      </div>
    </div>
    <button *ngIf='data?.pickOne' class='btn btn-primary mt-2' (click)='closeDialog()'  mat-dialog-close > xác nhận</button>
  </div>
</div>


