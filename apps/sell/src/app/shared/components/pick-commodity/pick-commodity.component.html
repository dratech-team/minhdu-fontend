<div>
  <button (click)='addCommodity()' class='btn border d-flex align-items-center '>
    <img src='../../../../assets/icon/share/plus-lg.svg' alt='add'>
    <span class='ml-1 font-xl' style='color:#20a8d8;'> Thêm hàng hóa</span>
  </button>
  <div class='table-scroll animated fadeIn mt-2 border-top' style='width: 100%; height: 40vh'
       infiniteScroll
       [alwaysCallback]='true'
       [infiniteScrollDistance]='1'
       [scrollWindow]='false'>
    <table style='width: 1500px'>
      <thead [formGroup]='formGroup'>
      <tr>
        <th style='width: 120px'>
          <div>Tất cả</div>
          <div style='width: 100%;' class='border-top py-2'>
            <mat-checkbox class='example-margin mx-auto '
                          [checked]='isSelectAll'
                          [indeterminate]='someComplete()'
                          (change)='setAll($event.checked)'>
            </mat-checkbox>
          </div>
        </th>
        <th>
          <div >Mã hàng</div>
          <input class='form-control'  type='text' formControlName='code'
          >
        </th>
        <th>
          <div >Tên Hàng hóa</div>
          <input  class='form-control'  type='text' formControlName='name'>
        </th>
        <th>
          <div >Giá trước KM</div>
          <input disabled type='number' >
        </th>
        <th>
          <div >Số lượng</div>
          <input type='number' disabled>
        </th>
        <th>
          <div >Khuyến mãi</div>
          <input type='number' disabled>
        </th>
        <th>
          <div >Mua thêm</div>
          <input type='number' disabled>
        </th>
        <th>
          <div >Giá sau KM</div>
          <input type='number'
                 disabled
          >
        </th>
        <th>
          <div class=''>Đơn vị</div>
          <input type='number' formControlName='unit'>
        </th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor='let commodity of commodities; let i = index'
          (contextmenu)='child.onContextMenu($event,commodity)'>
        <th [ngClass]='{"odd": i % 2 === 0, "even": i % 2 !== 0 }'>
          <mat-checkbox class='checkID'
                        [checked]='commodity.isSelect ? commodity.isSelect: false'
                        [(ngModel)]='commodity.isSelect'
                        (ngModelChange)='updateAllSelect(commodity.id)'>
          </mat-checkbox>
        </th>
        <th>{{commodity.code}} </th>
        <th>{{commodity.name}} </th>
        <th>
          {{commodity.price|number:'1.0'|notEmpty:'0'}} đ
        </th>
        <th>{{commodity.amount|number :'1.0'}} </th>
        <th>{{commodity.gift|number :'1.0'}} </th>
        <th>{{commodity.more.amount|number :'1.0'}} </th>
        <th>
          {{commodity.more.price|number:'1.0'|notEmpty:'0'}} đ
        </th>
        <th *ngIf='commodity?.unit === commodityUnit.KG'> Kilogam</th>
        <th c *ngIf='commodity?.unit === commodityUnit.CON'> Con</th>
      </tr>
      <tr *ngIf='!commodities || commodities.length === 0 '>
        <td class='font-xl m-auto'>
          <span>Hiện chưa có hàng hóa nào!</span>
        </td>
      </tr>
      </tbody>
    </table>

  </div>
  <button *ngIf='data.type === "DIALOG"' (click)='closeDialog()' class='my-2 btn btn-primary'>xác nhận</button>
</div>
<app-mouse-right
  #child (addEvent)='addCommodity()'
  (deleteEvent)='deleteCommodity($event)'
  (readAndUpdateEvent)='UpdateCommodity($event)'></app-mouse-right>

