<div class='main-content'>
  <mat-spinner *ngIf='adding$|async' class='loading'></mat-spinner>
  <div class='main-customer mx-auto' style='width: fit-content;min-width: 100vh'>
    <div class=' h3 '>Bản mẫu lương</div>
    <div>
      <button (click)='addTemplateSalary()' class='btn btn-primary mt-3 '>Tạo mẫu</button>
    </div>
    <div class='mt-3 font-weight-bold'>
      Tổng: {{total$|async}}
    </div>
    <div class='fixTableHead mt-2'
         infiniteScroll
         [infiniteScrollDistance]='0.5'
         [scrollWindow]='false'
         [alwaysCallback]='true'
         (scrolled)='onScroll()'
    >
      <table [formGroup]='formGroup' style='width: 1200px;'>
        <thead>
        <tr>
          <th style='width: 50px'>
            <div class='border-top d-flex justify-content-center align-items-center'>stt</div>
            <input type='text' disabled>
          </th>
          <th style='width: 100px'>
            <div class='border-top d-flex justify-content-center align-items-center'>Mã bản mẫu</div>
            <input type='search' disabled>
          </th>
          <th>
            <div class='border-top d-flex justify-content-center align-items-center'>Tên bản mẫu</div>
            <input class='form-control text-center' placeholder='Nhập tên bản mẫu' type='search'>
          </th>
          <th style='width: 200px'>
            <div class='border-top d-flex justify-content-center align-items-center'>Giá</div>
            <input type='text' disabled>
          </th>
          <th style='width: 200px'>
            <div class='border-top d-flex justify-content-center align-items-center'>Đơn vị tính</div>
            <input type='text' disabled>
          </th>
          <th style='width: 220px;'>
            <div class='border-top d-flex justify-content-center align-items-center'>Loại bản mẫu</div>
            <mat-select class='form-control border-top' formControlName='type'>
              <mat-option *ngFor='let item of blockSalaries' [value]='item.type'> {{item.title}}</mat-option>
            </mat-select>
          </th>
        </tr>
        </thead>
        <tbody *ngIf='(templateSalaries$|async) as templateSalaries '>
        <tr *ngFor='let templateSalary of templateSalaries;let i = index '
            (contextmenu)='child.onContextMenu($event,templateSalary)'
        >
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{i + 1}}
          </th>
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{templateSalary?.id}}
          </th>
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{templateSalary?.title}}
          </th>
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{templateSalary?.price ? (templateSalary?.price |number: '1.0-0') + 'VND' : '-' }}
          </th>
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{templateSalary.unit|transformApp : unitsConstant }}
          </th>
          <th class='pointer' (click)='updateTemplateSalary(templateSalary)'>
            {{templateSalary.type|transformUBlockSalary: blockSalaries }}
          </th>
        </tr>
        <tr *ngIf='templateSalaries.length === 0 ' style='height: 50vh'>
          <td colspan='11' class='text-center check-content font-weight-bold font-xl '>Hiện không có phiếu tăng ca nào
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <app-mouse-right #child (addEvent)='addTemplateSalary()'
                   (readEvent)='updateTemplateSalary($event)'
                   (deleteEvent)='deleteBasicSalary($event)'
  ></app-mouse-right>
</div>






