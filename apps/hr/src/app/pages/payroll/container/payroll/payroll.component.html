
<script src='../../payroll-routing.module.ts'></script>
<div class='main-profile'>
  <button (click)='add()' class='btn btn-primary'>Thêm nhân viên</button>
  <div class='header-profile mt-3 animated fadeIn'>
    <div class='border-start title-header default'>
      <div class='title-profile'>Mã nhân viên</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header name'>
      <div class='title-profile'>Tên nhân viên</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header name'>
      <div class='title-profile'>Ngày đi làm thực tế</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header name'>
      <div class='title-profile'>Ngày công chuẩn</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Chức vụ</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header name'>
      <div class='title-profile'>Đơn vị</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Tháng</div>
      <input class='form-control input-profile ' type='month'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Lương cơ bản</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Phụ cấp</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Phụ cấp ở lại</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Tăng ca</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Khấu trừ</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Thuế</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Tổng thu nhập</div>
      <input class='form-control input-profile ' type='search'>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Xác nhận</div>
      <select class='select' matNativeControl required>
        <option value='TRUE'>Đã xác nhận</option>
        <option value='FALSE'>chưa xác nhận</option>
      </select>
    </div>
    <div class='border-start title-header default'>
      <div class='title-profile'>Thanh toán</div>
      <select class='select' matNativeControl required>
        <option value='TRUE'>Đã Thanh toán</option>
        <option value='FALSE'>chưa thanh toán</option>
      </select>
    </div>
    <div class='border-start title-header note'>
      <div class='title-profile'>Ghi chú</div>
      <input class='form-control input-profile ' type='search'>
    </div>
  </div>
  <div class='outer  animated fadeIn'
       infiniteScroll
       [infiniteScrollDistance]='1'
       [infiniteScrollThrottle]='100'
       [scrollWindow]='false'
       (scrolled)='onScroll()'
       *ngIf='(payroll$| async) as payrolls' >
    <div class='row-content' *ngFor='let payroll of payrolls' (click)='readAndUpdate(payroll.id)' (contextmenu)='child.onContextMenu($event)'>
      <app-mouse-right #child (addEvent)='add()' (deleteEvent)='delete(payroll.id)'
                       (readAndUpdateEvent)='readAndUpdate(payroll.id)'></app-mouse-right>
      <div class='content-profile default pointer '>{{payroll.employee.code}} </div>
      <div class='content-profile name pointer '>{{payroll.employee.profile.firstName}} {{payroll.employee.profile.lastName}}  </div>
      <div class='content-profile name pointer '>{{payroll.salary?.actualDay? payroll.salary.actualDay : 'Đang cập nhật' }} </div>
      <div class='content-profile name pointer '>{{payroll.employee.position.workday?payroll.employee.position.workday : 'Đang cập nhật'}} </div>
      <div class='content-profile default pointer '>{{payroll.employee.position.name}} </div>
      <div class='content-profile name pointer '>{{payroll.employee.position.department.branch.name}} </div>
      <div class='content-profile default pointer '>{{payroll.createAt|date:'MM/yyyy'}} </div>
      <div class='content-profile default pointer '>{{payroll.salary?.basic}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.stay}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.allowance}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.overtime? payroll.salary?.overtime: 'Đang cập nhật'}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.deduction}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.tax}}</div>
      <div class='content-profile default pointer '>{{payroll.salary?.total}}</div>
      <div class='content-profile default pointer '> <input type='checkbox' disabled [checked]='payroll.accConfirmAt !== null'></div>
      <div class='content-profile default pointer '> <input type='checkbox' disabled [checked]='payroll.paidAt !== null'></div>
      <div class='content-profile note pointer '>{{payroll.note}}</div>
    </div>
  </div>
</div>


