<div class='px-5 py-3 main-popup'>
  <div mat-dialog-close class='close-popup'>
    <span class='mr-1'> close</span>
    <div class='x-popup'>
      <img src='../../../../../assets/img/share/x2-lg.svg' alt='cancel'>
    </div>
  </div>
  <form [formGroup]='formGroup' (submit)='onSubmit()'>
    <!--Allowance - Phụ cáp không ảnh hưởng tới các khoảng trừ / cộng-->
    <div *ngIf='data.type === type.ALLOWANCE ' class='form-group'>
      <div class='row mb-5 title-popup'>
        <span> Phụ cấp khác</span>
      </div>
      <div>
        <div>
          <div class='row title-item mb-1'>
            <span>Tên phụ cấp</span>
            <div class='star'>*</div>
          </div>
          <div class='row mb-3' [formGroup]='formGroup'>
            <input
              type='text'
              class='form-control px-1'
              placeholder='Nhập tên phụ cấp'
              formControlName='title'
              [ngClass]="{ 'is-invalid': submitted && f.title.errors }"
            >
            <div *ngIf='submitted && f.title.errors?.required' class='invalid-feedback'>
              <div>Chưa nhập tên phụ cấp khác</div>
            </div>
          </div>
        </div>
        <div class='row date-or-time'>
          <div class='col'>
            <div class='row title-item mb-1'>
              <span> Đơn vị</span>
              <div class='star'>*</div>
            </div>
            <div class='row mb-3' [formGroup]='formGroup'>
              <mat-select
                class='form-control col'
                formControlName='unit'
                [ngClass]="{ 'is-invalid': submitted && f.unit.errors }"
              >
                <mat-option value='MONTH'>Tháng</mat-option>
                <mat-option value='DAY'>Ngày</mat-option>
                <mat-option value='HOUR'>Giờ</mat-option>
              </mat-select>
            </div>
            <div *ngIf='submitted && f.unit.errors?.required' class='invalid-feedback'>
              <div>Chưa chọn đơn vị</div>
            </div>
          </div>
          <div *ngIf="formGroup.value.unit === 'HOUR' || formGroup.value.unit === 'DAY'"
               class='date-or-time col ml-2'>
            <div class='row title-item mb-1'>
              <span>Ngày</span>
              <div class='star'>*</div>
            </div>
            <div class='row mb-3' [formGroup]='formGroup'>
              <input
                type='date'
                class='form-control'
                formControlName='datetime'
                [ngClass]="{ 'is-invalid': submitted && f.datetime.errors }"
              >
              <div *ngIf='submitted && f.datetime.errors?.required' class='invalid-feedback'>
                <div>Chưa nhập ngày</div>
              </div>
            </div>
          </div>
          <div *ngIf="formGroup.value.unit === 'MONTH'" class='date-or-time col ml-2'>
            <div class='row title-item mb-1'>
              <span>Tháng</span>
              <div class='star'>*</div>
            </div>
            <div class='row mb-3' [formGroup]='formGroup'>
              <input
                type='date'
                class='form-control'
                formControlName='datetime'
                [ngClass]="{ 'is-invalid': submitted && f.datetime.errors }"
              >
              <div *ngIf='submitted && f.datetime.errors?.required' class='invalid-feedback'>
                <div>Chưa nhập tháng</div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="formGroup.value.unit === 'HOUR'">
          <div class='row title-item mb-1'>
            <span>Số giờ</span>
            <div class='star'>*</div>
          </div>
          <div class='row mb-3' [formGroup]='formGroup'>
            <input
              type='number'
              class='form-control px-1'
              placeholder='Nhập số giờ'
              formControlName='times'
              min='0'
              [ngClass]="{ 'is-invalid': submitted && f.times.errors }"
            >
            <div *ngIf='submitted && f.times.errors?.required' class='invalid-feedback'>
              <div>Chưa nhập số giờ</div>
            </div>
          </div>
        </div>
        <div class='unit-price'>
          <div class='row title-item mb-1'>
            <span>Mức phụ cấp</span>
            <div class='star'>*</div>
          </div>
          <div class='row mb-3' [formGroup]='formGroup'>
            <input type='text' class='form-control  px-1' placeholder='200,000' formControlName='price'
                   inputCurrency [ngClass]="{ 'is-invalid': submitted && f.price.errors }"
            >
            <div *ngIf='submitted && f.price.errors?.required' class='invalid-feedback'>
              <div>Chưa nhập mức phụ cấp</div>
            </div>
          </div>
        </div>
        <div class='note'>
          <div class='row title-item mb-1'>
            <span>Chú thích</span>
          </div>
          <div class='row mb-3' [formGroup]='formGroup'>
            <input type='text' class='form-control  px-1' placeholder='Nhập chú thích' formControlName='note'>
          </div>
        </div>

      </div>
    </div>
    <div class='footer-popup row ml-4'>
      <button mat-dialog-close class='btn btn-cancel mr-3 '>Hủy</button>
      <button (click)='onSubmit()' class='btn btn-ok '>Lưu</button>
      <button type='button' class='btn  award' data-toggle='tooltip'
              data-placement='left'
              title='xóa'>
        ?
      </button>
    </div>
  </form>
</div>


