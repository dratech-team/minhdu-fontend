<div class='py-3 main-popup' style='min-width: 550px'>
  <div mat-dialog-close class='close-popup'>
    <span class='mr-1'> close</span>
    <div class='x-popup'>
      <img src='../../../../../assets/img/share/x2-lg.svg' alt='cancel'>
    </div>
  </div>
  <div>
    <h2 class='font-weight-bold'>Phiếu lương tháng {{data.createAt|date:'MM/yyyy'}}</h2>
    <mat-dialog-content class='mat-typography'>
      <div class='px-3'>
        <div class='mt-3 px-3' style='width: 600px' *ngIf='( payslip$ | async) as payslip'>
          <div class=' row'>
            <div class='col-6 font-weight-bold'>Ngày công chuẩn:</div>
            <div class=' col-6'>{{payslip?.workday}} Ngày</div>
          </div>
          <div class='row mt-2' *ngIf='data.recipeType === recipeType.CT1 ' >
            <div class='col-6 font-weight-bold'>Ngày công trừ ngày lễ / tết:</div>
            <div class=' col-6'>{{payslip.workdayNotInHoliday}} Ngày</div>
          </div>
          <div class='row mt-2' *ngIf='data.recipeType === recipeType.CT1 ' >
            <div class='col-6 font-weight-bold'>Ngày Làm ngoài giờ:</div>
            <div class=' col-6'>{{payslip.workdayNotInHoliday - payslip.workday }} Ngày </div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Ngày lễ đi làm:</div>
            <div class=' col-6' *ngIf='payslip?.worksInHoliday?.length; else worksInHoliday'>
              <div class='pr-4' *ngFor='let item of payslip?.worksInHoliday'>
                {{item.datetime |date:'dd/MM/yyyy'}} (Hệ số: {{item.rate}}
                - {{item.day === 1 ? 'nguyên ngày' : 'nửa ngày' }}),
              </div>
            </div>
            <ng-template class=' col-6' #worksInHoliday>
              <div class='col-6'>
                <span class='pr-4'>  0 ngày</span>
              </div>
            </ng-template>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Ngày lễ không đi làm:</div>
            <div class=' col-6' *ngIf='payslip?.worksNotInHoliday?.length; else worksNotInHoliday'>
              <span class='pr-4' *ngFor='let item of payslip?.worksNotInHoliday'>
                {{item.datetime |date:'dd/MM/yyyy'}} ({{item.day === 1 ? 'nguyên ngày' : 'nửa ngày' }}),
              </span>
            </div>
            <ng-template class='col-6' #worksNotInHoliday>
              <div class='col-6'>
                <span class='pr-4'>  0 ngày</span>
              </div>

            </ng-template>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng ngày công thực nhận:</div>
            <div class=' col-6'>{{payslip.totalWorkday}} Ngày</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Lương cơ bản:</div>
            <div class='text-success col-6'>{{payslip.basic |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng lương ngày đi làm thực tế trừ lễ:</div>
            <div class='text-success col-6'>{{payslip?.payslipNormalDay |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Lương / Phụ cấp đi làm ngày lễ:</div>
            <div class='text-success col-6'>{{payslip.payslipInHoliday |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Lương không đi làm ngày lễ:</div>
            <div class='text-success col-6'>{{payslip.payslipNotInHoliday |number: '1.0-0'}} VND</div>
          </div>

          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng phụ cấp ở lại:</div>
            <div class='text-success col-6'>{{payslip.stay |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng tiền tăng ca:</div>
            <div class='text-success col-6'>{{payslip.overtime || 0 |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng lương làm ngoài giờ :</div>
            <div class='text-success col-6'>{{payslip?.payslipOutOfWorkday || 0 |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng phụ cấp khác:</div>
            <div class='text-success col-6'>{{payslip.allowance || 0 |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng tiền khấu trừ:</div>
            <div class='text-danger col-6'>{{payslip.deduction || 0 |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng tền thuế:</div>
            <div class='text-danger col-6'>{{payslip.tax || 0 |number: '1.0-0'}} VND</div>
          </div>
          <div class='row mt-2'>
            <div class='col-6 font-weight-bold'>Tổng Lương thực nhận:</div>
            <div class='text-success col-6'>{{payslip.total || 0 |number: '1.0-0'}}VND</div>
          </div>
        </div>
      </div>
    </mat-dialog-content>
    <div class='footer-popup row mt-3 ml-2'>
      <button mat-dialog-close class='btn btn-cancel mr-3 '>Hủy</button>
      <button mat-dialog-close (click)='onSubmit()' class='btn btn-ok '>Xác nhận</button>
    </div>
  </div>
</div>
