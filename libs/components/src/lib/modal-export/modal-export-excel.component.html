<div class='animated p-1'>
    <form [formGroup]='formGroup'>
      <div class=' mt-1 mb-3 '>
        <span class='font-weight-bold'>Tên file</span><span class='star'>*</span>
        <input type='text' class='form-control mt-1' formControlName='name'
               [ngClass]="{ 'is-invalid': formGroup.controls.name.errors}">
        <div *ngIf='formGroup.controls.name.errors' class='invalid-feedback'>
          <div *ngIf='formGroup.controls.name.errors'>Chưa nhập tên file</div>
        </div>
      </div>
      <div *ngIf='data?.selectDatetime'>
        <div class=' mt-1 mb-3 ' *ngIf='data?.typeDate === "RANGE_DATETIME" else createdAt'>
          <span class='title-item'>Từ ngày đến ngày</span><span class='star'>*</span>
          <div class='form-control d-flex align-items-center'>
            <nz-range-picker
              nzMode="date"
              nzFormat="dd-MM-yyyy"
              formControlName="rangeDay" >
            </nz-range-picker>
          </div>
        </div>
        <ng-template #createdAt>
          <div class=' mt-1 mb-3 '>
            <span class='title-item'>Tháng</span><span class='star'>*</span>
            <input type='month' class='form-control' formControlName='createdAt'>
          </div>
        </ng-template>
      </div>
    </form>
    <div class='font-weight-bold mb-2'><span>Các mục muốn in</span><span class='star'>*</span></div>
    <div class='fixTableHead' style='max-height: 35vh; width: 500px; overflow-y: auto'>
      <nz-table
        #tableExport
        [nzData]="itemsExport"
        [nzLoading]="loading"
        nzShowPagination="false"
      >
        <thead>
        <tr class='border-top' style='height: 40px'>
          <th class='text-center border-top'>Mục</th>
          <th class='text-center border-top'>Tất cả</th>
        </tr>
        <tr style='height: 40px'>
          <th class='text-center'></th>
          <th class='text-center'>
            <mat-checkbox class='example-margin  mt-2 mx-auto'
                          [checked]='isSelectAll'
                          [indeterminate]='someComplete()'
                          (change)='setAll($event.checked)'>
            </mat-checkbox>
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor='let item of tableExport.data'>
          <td>
            {{item.value}}
          </td>
          <td>
            <div class='d-flex justify-content-center align-items-center'>
              <mat-checkbox
                class='mx-auto'
                (change)='updateSelect(item)'
                [checked]='selectItem(item)'>
              </mat-checkbox>
            </div>
          </td>
        </tr>
        </tbody>
      </nz-table>
    </div>
  <div>
  </div>
  <div class='row mt-4 ml-1 '>
    <button
      nz-button
      nzType="primary"
      (click)='onSubmit()'
      [nzLoading]="loading"
      style='font-size: 12px'>
      Đồng ý
    </button>
  </div>
</div>
<mat-spinner *ngIf='printing' class='loading'></mat-spinner>
